(this.webpackJsonpprototype=this.webpackJsonpprototype||[]).push([[0],{185:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a(1),i=a(55),o=a.n(i),r=(a(83),a(2)),n=(a(84),a.p+"static/media/overall-statistics.29c65aa3.csv"),c=a.p+"static/media/hospital-data.cfebbe68.csv",b=a(37),d=a(3);function u(e){var t=e.overall,a=e.labelMonth,i=e.label_daily,o=Object(l.useState)(),n=Object(r.a)(o,2),c=n[0],b=n[1],u=Object(l.useState)(),h=Object(r.a)(u,2),f=h[0],j=h[1],p=Object(l.useState)(),g=Object(r.a)(p,2),O=g[0],v=g[1],x=Object(l.useState)(),k=Object(r.a)(x,2),C=k[0],m=k[1];Object(l.useEffect)((function(){var e=[0,0,0,0,0,0,0],s=[];t.forEach((function(t){var a=parseInt(t.Tarikh.split("/")[1]-6);e[a]+=parseInt(t.kesPositifBaru),s[a]=t.jumlahTelahSembuhDiscaj})),v({labels:a,datasets:[{type:"line",fill:!0,yAxisID:"l",label:"New Postive Cases",data:e,backgroundColor:"rgba(255, 211, 105, 1)",borderColor:"rgba(255, 211, 105, 1)"},{type:"bar",fill:!0,yAxisID:"r",label:"Total Recovered",data:s,backgroundColor:"rgba(22, 199, 154, 1)",borderColor:"rgba(22, 199, 154, 1)"}]}),b(!1),m("New Positive Cases")}),[]);var y={onClick:function(e,s){var l=s[0]._chart,o=l.getElementAtEvent(e)[0],r=l.data.labels[o._index],n=l.data.datasets[o._datasetIndex],c=a.indexOf(r);console.log(n.label+c),0==o._datasetIndex&&(!function(e,a){v();var s=i(a),l=[];t.forEach((function(e){parseInt(e.Tarikh.split("/")[1])-6==a&&l.push(e.kesPositifBaru)})),b(!0),j({labels:s,datasets:[{type:"bar",fill:!1,label:e,data:l,backgroundColor:"rgba(255, 211, 105, 1)"}]})}(n.label,c),m("".concat(n.label," for ").concat(r)))},title:{display:!0,text:"New Postive Cases",fontColor:"white",fontSize:17},legend:{labels:{fontColor:"white"},position:"bottom"},scales:{yAxes:[{id:"l",position:"left",ticks:{beginAtZero:!0,fontColor:"white"}},{id:"r",position:"right",ticks:{beginAtZero:!0,fontColor:"white"}}],xAxes:[{ticks:{beginAtZero:!0,fontColor:"white"}}]}},I={title:{display:!0,text:C,fontColor:"white",fontSize:17},legend:{labels:{fontColor:"white"},position:"bottom"},scales:{yAxes:[{ticks:{beginAtZero:!0,fontColor:"white"}}],xAxes:[{ticks:{beginAtZero:!0,fontColor:"white"}}]}};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"default-chart-container",style:{display:c?"none":"block"},children:O&&Object(s.jsx)(d.Bar,{height:200,data:O,options:y})}),Object(s.jsxs)("div",{className:"default-chart-container",style:{display:c?"block":"none"},children:[f&&Object(s.jsx)(d.Bar,{height:200,data:f,options:I}),Object(s.jsx)("div",{className:"monthly",onClick:function(){return function(){j();var e=[0,0,0,0,0,0,0],s=[];t.forEach((function(t){var a=parseInt(t.Tarikh.split("/")[1]-6);e[a]+=parseInt(t.kesPositifBaru),s[a]=t.jumlahTelahSembuhDiscaj})),v({labels:a,datasets:[{type:"bar",fill:!1,yAxisID:"l",label:"New Postive Cases",data:e,backgroundColor:"rgba(255, 211, 105, 1)"},{type:"line",fill:!0,yAxisID:"r",label:"Total Recovered",data:s,backgroundColor:"rgba(22, 199, 154, 1)",borderColor:"rgba(22, 199, 154, 1)"}]}),m("New Positive Cases"),b(!1)}()},style:{color:"white"},children:"Monthly"})]})]})}function h(e){var t=e.overall,a=e.labelMonth,i=e.label_daily,o=Object(l.useState)(),n=Object(r.a)(o,2),c=n[0],b=n[1],u=Object(l.useState)(),h=Object(r.a)(u,2),f=h[0],j=h[1],p=Object(l.useState)(),g=Object(r.a)(p,2),O=g[0],v=g[1],x=Object(l.useState)(),k=Object(r.a)(x,2),C=k[0],m=k[1];Object(l.useEffect)((function(){var e=[],s=[],l=[];t.forEach((function(t){var a=parseInt(t.Tarikh.split("/")[1]-6);e[a]=t.jumlahKesPUI,s[a]=t.kesPUINegatif,l[a]=t.kesPUIBaru})),v({labels:a,datasets:[{type:"line",fill:!0,yAxisID:"l",label:"Confirmed Cases",data:l,backgroundColor:"rgba(187, 34, 5, 1)",borderColor:"rgba(187, 34, 5, 1)"},{type:"line",fill:!0,yAxisID:"r",label:"Negatives",data:s,backgroundColor:"rgba(22, 199, 154, 1)",borderColor:"rgba(22, 199, 154, 1)"},{type:"line",fill:!0,label:"Total Cases",data:e,yAxisID:"r",backgroundColor:"rgba(255, 123, 84, 1)",borderColor:"rgba(255, 123, 84, 1)"}]}),b(!1)}),[]);var y={onClick:function(e,s){if(s.length>0){var l=s[0]._chart,o=l.getElementAtEvent(e)[0],r=l.data.labels[o._index],n=l.data.datasets[o._datasetIndex],c=a.indexOf(r);!function(e,a){v(),console.log(e);var s=[];switch(e){case"Confirmed Cases":t.forEach((function(e){parseInt(e.Tarikh.split("/")[1])-6==a&&s.push(e.kesPUIBaru)}));break;case"Negatives":t.forEach((function(e){parseInt(e.Tarikh.split("/")[1])-6==a&&s.push(e.kesPUINegatif)}));break;case"Total Cases":t.forEach((function(e){parseInt(e.Tarikh.split("/")[1])-6==a&&s.push(e.jumlahKesPUI)}))}var l=i(a);b(!0),j({labels:l,datasets:[{type:"bar",fill:!1,label:e,data:s,backgroundColor:"rgba(255, 123, 84, 1)",borderColor:"rgba(255, 123, 84, 1)"}]})}(n.label,c),m("".concat(n.label," for ").concat(r))}},title:{display:!0,text:"Person Under Investigations (PUI)",fontColor:"white",fontSize:17},legend:{labels:{fontColor:"white"},position:"bottom"},scales:{yAxes:[{type:"linear",id:"r",position:"right",ticks:{beginAtZero:!0,fontColor:"white"}},{type:"linear",id:"l",position:"left",ticks:{beginAtZero:!0,fontColor:"white"}}],xAxes:[{ticks:{beginAtZero:!0,fontColor:"white"}}]}},I={title:{display:!0,text:C,fontColor:"white",fontSize:17},legend:{labels:{fontColor:"white"},position:"bottom"},scales:{yAxes:[{type:"linear",id:"l",position:"left",ticks:{beginAtZero:!0,fontColor:"white"}}],xAxes:[{ticks:{beginAtZero:!0,fontColor:"white"}}]}};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"default-chart-container",style:{display:c?"none":"block"},children:O&&Object(s.jsx)(d.Line,{height:200,data:O,options:y})}),Object(s.jsxs)("div",{className:"default-chart-container",style:{display:c?"block":"none"},children:[f&&Object(s.jsx)(d.Line,{height:200,data:f,options:I}),Object(s.jsx)("div",{className:"monthly",onClick:function(){return function(){var e=[],s=[],l=[];t.forEach((function(t){var a=parseInt(t.Tarikh.split("/")[1]-6);e[a]=t.jumlahKesPUI,s[a]=t.kesPUINegatif,l[a]=t.kesPUIBaru})),v({labels:a,datasets:[{type:"line",fill:!0,yAxisID:"l",label:"Confirmed Cases",data:l,backgroundColor:"rgba(187, 34, 5, 1)",borderColor:"rgba(187, 34, 5, 1)"},{type:"line",fill:!0,yAxisID:"r",label:"Negatives",data:s,backgroundColor:"rgba(50, 224, 196, 1)",borderColor:"rgba(50, 224, 196, 1)"},{type:"line",fill:!0,label:"Total Cases",data:e,yAxisID:"r",backgroundColor:"rgba(255, 123, 84, 1)",borderColor:"rgba(255, 123, 84, 1)"}]}),b(!1)}()},style:{color:"white"},children:"Monthly"})]})]})}var f=a(36);function j(e){var t=e.hospital,a=Object(l.useState)(),i=Object(r.a)(a,2),o=i[0],n=i[1];Object(l.useEffect)((function(){var e=[];t.forEach((function(t){e[0]=t.matiKCH,e[1]=t.matiBNTL,e[2]=t.matiMIRI,e[3]=t.matiSGB})),n({maintainAspectRatio:!0,responsive:!0,labels:["Kuching","Bintulu","Miri","Sg. Buloh"],datasets:[{data:e,backgroundColor:["#f0a500","#006a71","#e97171","#5d54a4"],hoverBackgroundColor:["#f0a500","#006a71","#e97171","#5d54a4"]}]})}));return Object(s.jsx)("div",{style:{width:"500px",height:"500px",display:"flex",alignItems:"center"},children:Object(s.jsx)(d.Doughnut,{height:500,width:500,data:Object(f.a)({},o),options:Object(f.a)({},{legend:{display:!0,position:"right"},elements:{arc:{borderWidth:0}}})})})}var p=function(){var e=Object(l.useState)(!0),t=Object(r.a)(e,2),a=t[0],i=t[1],o=Object(l.useState)(),d=Object(r.a)(o,2),f=d[0],p=d[1],g=Object(l.useState)(),O=Object(r.a)(g,2),v=O[0],x=O[1],k=Object(l.useState)(),C=Object(r.a)(k,2),m=C[0],y=C[1],I=Object(l.useState)(),w=Object(r.a)(I,2),N=w[0],A=w[1],S=Object(l.useState)(),P=Object(r.a)(S,2),D=(P[0],P[1],Object(l.useState)()),E=Object(r.a)(D,2),T=(E[0],E[1],Object(l.useState)()),B=Object(r.a)(T,2),U=(B[0],B[1],Object(l.useState)()),_=Object(r.a)(U,2),Z=_[0],M=_[1],K=["June","July","August","September","October","November","December"];function J(e){var t=0,a=[];switch(e){case 0:t=30;break;case 1:case 2:t=31;break;case 3:t=30;break;case 4:t=31;break;case 5:t=30;break;case 6:t=31}for(var s=1;s<t+1;s++)a.push(s);return a}function z(e){switch(y(!1),e){case"tc":case"ac":M(!1);break;case"jkm":M(!0);break;case"ppui":M(!1)}}return Object(l.useEffect)((function(){a&&Promise.all([Object(b.a)(n),Object(b.a)(c)]).then((function(e){var t={tc:0,it:0,npui:0,ppui:0,jkm:0},a=e[0][e[0].length-1],s=e[1][e[1].length-1];t.tc=a.jumlahKesPositif,t.it=s.dirawatJumlah,t.npui=a.kesPUINegatif,t.ppui=a.kesPUIPending,t.jkm=a.jumlahKesMati,A(t),p(e[0]),x(e[1]),y(!0),i(!1)}))}),[]),Object(s.jsxs)("div",{className:"container lilita",children:[Object(s.jsxs)("div",{className:"brand-name",onClick:function(){return y(!0)},children:["Sarawak COVID-19 Data Visualization Dashboard",Object(s.jsx)("div",{className:"brand-date",children:"(June 2020 - December 2020)"})]}),Object(s.jsxs)("div",{className:"top-nav",children:[Object(s.jsxs)("div",{className:"button",onClick:function(){return z("tc")},children:[Object(s.jsx)("div",{className:"value",style:{backgroundColor:"#ffd369"},children:N&&N.tc}),"Total Cases"]}),Object(s.jsxs)("div",{className:"button",onClick:function(){return z("ac")},children:[Object(s.jsx)("div",{className:"value",style:{backgroundColor:"#ff884b"},children:N&&N.it}),"Active Cases"]}),Object(s.jsxs)("div",{className:"button",onClick:function(){return z("jkm")},children:[Object(s.jsx)("div",{className:"value",style:{backgroundColor:"#f05454"},children:N&&N.jkm}),"Total Death"]}),Object(s.jsxs)("div",{className:"button",onClick:function(){return z("ppui")},children:[Object(s.jsx)("div",{className:"value",style:{backgroundColor:"#a6a9b6"},children:N&&N.ppui}),"Pending"]})]}),Object(s.jsx)("div",{className:"vars",style:{display:m?"none":"flex"},children:Z?Object(s.jsx)(j,{hospital:v}):"loading data"}),Object(s.jsxs)("div",{className:"default",style:{display:m?"flex":"none",flexDirection:"column"},children:[Object(s.jsxs)("div",{className:"row-1",style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)("div",{className:"default-chart new-cases",children:f&&Object(s.jsx)(u,{overall:f,labelMonth:K,label_daily:J})}),Object(s.jsx)("div",{className:"default-chart pui",children:f&&Object(s.jsx)(h,{overall:f,labelMonth:K,label_daily:J})})]}),Object(s.jsx)("div",{className:"row-2",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}})]})]})};o.a.render(Object(s.jsx)(p,{}),document.getElementById("root"))},83:function(e,t,a){},84:function(e,t,a){}},[[185,1,2]]]);
//# sourceMappingURL=main.97b9d36a.chunk.js.map